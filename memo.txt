    <script>
        /**
         * 本番アセットをローカルCSSに置換する
         */
        function replaceAssetsForLocalByClass() {
            const isLocal =
                location.hostname === 'localhost' ||
                location.hostname.startsWith('192.168.');
            if (!isLocal) return;

            $('.assets-local-replace').each(function () {
                const $prod = $(this);

                // CSS か JS か判定
                const isCss = this.tagName.toLowerCase() === 'link';
                const isJs = this.tagName.toLowerCase() === 'script';

                const prodUrl = isCss
                    ? $prod.attr('href')
                    : $prod.attr('src');

                if (!prodUrl) return;

                // 本番URLからファイル名を取得
                const fileName = prodUrl.split('/').pop();

                // ローカルパスを自動生成
                const localUrl = isCss
                    ? '/assets/css/' + fileName
                    : '/assets/js/' + fileName;

                fetch(prodUrl, { method: 'HEAD', cache: 'no-cache' })
                    .then(function (res) {
                        // 本番が生きていれば何もしない
                        if (res.ok) return;

                        // ---- 404などのときだけローカルへ ----
                        if (isCss) {
                            $prod.prop('disabled', true);
                        } else if (isJs) {
                            $prod.remove();
                        }

                        if (isCss) {
                            $('<link>', {
                                rel: 'stylesheet',
                                href: localUrl
                            }).appendTo('head');

                        } else if (isJs) {
                            $('<script>', {
                                src: localUrl
                            }).appendTo('head');
                        }
                    })
                    .catch(function () {
                        // 通信エラー時もローカルへ
                        if (isCss) {
                            $prod.prop('disabled', true);
                        } else if (isJs) {
                            $prod.remove();
                        }

                        if (isCss) {
                            $('<link>', {
                                rel: 'stylesheet',
                                href: localUrl
                            }).appendTo('head');

                        } else if (isJs) {
                            $('<script>', {
                                src: localUrl
                            }).appendTo('head');
                        }
                    });
            });
        }
        $(replaceAssetsForLocalByClass);
    </script>


    <!-- css reset -->
    <link rel="stylesheet" type="text/css" href="/static/reset_css/modern-css-reset.css" />
    <!-- css -->
    <link rel="stylesheet" type="text/css" href="https://assets.mothlamp.info/css/base-20260119.css"
        class="assets-local-replace" />
    <link rel="stylesheet" type="text/css" href="https://assets.mothlamp.info/css/mothlamp-20251202.css"
        class="assets-local-replace" />
    <link rel="stylesheet" type="text/css" href="https://assets.mothlamp.info/css/glitch-animation-20250829.css"
        class="assets-local-replace" />

    <!-- script -->
    <script src="https://assets.mothlamp.info/js/loading-20250223.js" class="assets-local-replace"></script>
    <script src="https://assets.mothlamp.info/js/load-contents-20250119.js" class="assets-local-replace"></script>
    <script src="https://assets.mothlamp.info/js/menu-20240924.js" class="assets-local-replace"></script>
    <script src="https://assets.mothlamp.info/js/para-20240209.js" class="assets-local-replace"></script>
    <script src="https://assets.mothlamp.info/js/pwabuttons-20240209.js" class="assets-local-replace"></script>
    <script src="https://assets.mothlamp.info/js/reload-20240326.js" class="assets-local-replace"></script>
    <script src="https://assets.mothlamp.info/js/async-load-twitter-20250531.js" class="assets-local-replace"></script>
    <script src="https://assets.mothlamp.info/js/async-load-youtube-20251202.js" class="assets-local-replace"></script>
    <script src="https://assets.mothlamp.info/js/butterfly-list-20250531.js" class="assets-local-replace"></script>
    <script src="https://assets.mothlamp.info/js/glitch-animation-20250531.js" class="assets-local-replace"></script>
    <script src="https://assets.mothlamp.info/js/protected-img-20250531.js" class="assets-local-replace"></script>
    <script src="https://assets.mothlamp.info/js/visibility-control-20250829.js" class="assets-local-replace"></script>
